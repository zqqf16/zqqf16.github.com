<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
<channel>
    <title>ä¸€ä¸ªæœ¨åŒ </title>
    <link>https://blog.zorro.im</link>
	<description>zqqf16 çš„ä¸ªäººåšå®¢</description>
    <language>zh-cn</language>
    <generator>Peanut</generator>
    <item>
		<title>åœ¨ Swift ä¸­ä½¿ç”¨ QuickJS</title>
		<link>https://blog.zorro.im/posts/2021-12-21-quickjs-swift-bindings.html</link>
		<description>&lt;h2 id=&#34;_1&#34;&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;å»å¹´ç”¨ Swift å†™äº†ä¸€ä¸ªå¤„ç†æ—¥å¿—çš„ macOS appï¼Œå…¶ä¸­æœ‰ä¸ªæ¯”è¾ƒæ ¸å¿ƒçš„åŠŸèƒ½ï¼Œå¯ä»¥å¯¼å…¥è‡ªå®šä¹‰è„šæœ¬æ¥è¿‡æ»¤æˆ–è€…åˆ†ææ—¥å¿—ã€‚
ä¸€å¼€å§‹é€‰æ‹©çš„è„šæœ¬è¯­è¨€æ˜¯ Pythonï¼Œå¹¶ä¸”ç”¨ &lt;a href=&#34;https://github.com/pvieito/PythonKit&#34;&gt;PythonKit&lt;/a&gt; å®ç°äº† Swift ä¸ Python çš„é›†æˆã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼ŒPythonKit &lt;a href=&#34;https://github.com/pvieito/PythonKit/blob/839ef68d9fe5c85ab212272fffbe54e229374d5c/PythonKit/PythonLibrary.swift#L98&#34;&gt;åŠ è½½ Python åº“&lt;/a&gt;çš„ç‰ˆæœ¬ä¼šè·Ÿå½“å‰ç³»ç»Ÿç›¸å…³ã€‚
æ¯”å¦‚ï¼Œå¦‚æœæˆ‘çš„é»˜è®¤Pyhtonç‰ˆæœ¬æ˜¯2.7ï¼Œé‚£ä¹ˆåœ¨æˆ‘ç”µè„‘ä¸Šè¢«åŠ è½½çš„æ˜¯2.7ï¼Œè€Œå…¶ä»–äººç”µè„‘ä¸Šå¯èƒ½å°±æ˜¯3.xï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´å¤„ç†æ—¥å¿—çš„è„šæœ¬åšä¸åˆ°100%å…¼å®¹å„ç§ç¯å¢ƒã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤å†³å®šå¼•å…¥ Javascript ä½œä¸ºæ›¿ä»£çš„è„šæœ¬è¯­è¨€ï¼ŒJS å¼•æ“é€‰æ‹©äº†ä¸€ç›´æƒ³å°è¯•çš„ &lt;a href=&#34;https://bellard.org/quickjs/&#34;&gt;QuickJS&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;_2&#34;&gt;é›†æˆ&lt;/h2&gt;
&lt;p&gt;QuickJS çš„ä»£ç éå¸¸ç²¾æ‚ï¼Œå¦‚æœä½œä¸ºåº“æ¥ä½¿ç”¨ï¼Œæ ¸å¿ƒçš„ C æ–‡ä»¶åªæœ‰5ä¸ª(&lt;code&gt;quickjs.c&lt;/code&gt;ã€&lt;code&gt;quickjs-libc.c&lt;/code&gt;ã€&lt;code&gt;libregexp.c&lt;/code&gt;ã€&lt;code&gt;libunicode.c&lt;/code&gt;ã€&lt;code&gt;cutils.c&lt;/code&gt;)ï¼Œè€Œä¸”ç»å¤§å¤šæ•°ä»£ç éƒ½é›†ä¸­åœ¨&lt;code&gt;quickjs.c&lt;/code&gt;ã€&lt;code&gt;quickjs-libc.c&lt;/code&gt;è¿™ä¸¤ä¸ªæ–‡ä»¶é‡Œã€‚&lt;/p&gt;
&lt;p&gt;ç¼–è¯‘æ¡ä»¶ä¹Ÿæå…¶ç®€å•ï¼Œä¸åƒä¼ ç»Ÿçš„ C è¯­è¨€å·¥ç¨‹ï¼Œéœ€è¦ &lt;code&gt;./configure&lt;/code&gt; æˆ–è€…å®‰è£…ä¸€å¤§å †ä¾èµ–ã€‚æŠŠè¿™å‡ ä¸ªæ–‡ä»¶æ‹–åˆ° Xcode å·¥ç¨‹é‡Œï¼Œç›´æ¥ Run å°±èƒ½ç¼–è¿‡ã€‚&lt;/p&gt;
&lt;h2 id=&#34;_3&#34;&gt;ç®€å•ä½¿ç”¨&lt;/h2&gt;
&lt;p&gt;å¯åŠ¨ä¸€ä¸ª QuickJS å¼•æ“æ­¥éª¤éå¸¸ç®€å•ï¼Œå¤§è‡´åˆ†æˆä»¥ä¸‹å‡ æ­¥ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»ºä¸€ä¸ª &lt;strong&gt;Runtime&lt;/strong&gt;ï¼š&lt;code&gt;JS_NewRuntime&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åˆ›å»ºä¸€ä¸ª &lt;strong&gt;Context&lt;/strong&gt;ï¼š&lt;code&gt;JS_NewContext&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œ JS ä»£ç ï¼š&lt;code&gt;JS_Eval&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¯¦ç»†çš„ä¾‹å­å¯ä»¥å‚è€ƒ &lt;a href=&#34;https://github.com/bellard/quickjs/blob/master/qjsc.c&#34;&gt;qjsc.c&lt;/a&gt; æˆ–è€…å…¶å®ƒ demoã€‚&lt;/p&gt;
&lt;h2 id=&#34;_4&#34;&gt;å°è£…&lt;/h2&gt;
&lt;p&gt;ä¸ºäº†ä½¿ä¸Šå±‚ä½¿ç”¨èµ·æ¥æ›´æ–¹ä¾¿ï¼Œæˆ‘åšäº†ä¸€ä¸ª Swift Packageï¼ŒæŠŠ C è¯­è¨€æ¥å£åŒ…è£…æˆäº†æ›´ Swift çš„æ–¹å¼ï¼Œä»£ç åœ¨ï¼šhttps://github.com/zqqf16/QuickJS-Swiftã€‚&lt;/p&gt;
&lt;p&gt;è°ƒç”¨è€…åªéœ€è¦åœ¨ä½ çš„ &lt;code&gt;Package.swift&lt;/code&gt; æ–‡ä»¶é‡ŒåŠ ä¸Š&lt;/p&gt;
&lt;div class=&#34;codehilite&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;package&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;https://github.com/zqqf16/QuickJS-Swift.git&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;branch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;master&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å°±å¯ä»¥äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;swift-js&#34;&gt;Swift è°ƒç”¨ JS ä»£ç &lt;/h3&gt;
&lt;div class=&#34;codehilite&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class=&#34;kd&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;QuickJS&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;runtime&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;JSRuntime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;context&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;runtime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;createContext&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;jsCode&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;var i = 10; i;&amp;quot;&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;context&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;eval&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;jsCode&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;int&lt;/span&gt;
&lt;span class=&#34;bp&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;Result is &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;\(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;//10&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&#34;swift-module&#34;&gt;ç”¨ Swift å®ç°ä¸€ä¸ª Module&lt;/h3&gt;
&lt;div class=&#34;codehilite&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class=&#34;kd&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;QuickJS&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;runtime&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;JSRuntime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;context&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;runtime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;createContext&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// Create a module named &amp;quot;Magic&amp;quot; with two functions &amp;quot;getMagic&amp;quot; and &amp;quot;getMagic2&amp;quot;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;context&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;module&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;Magic&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;JSModuleFunction&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;getMagic&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;context&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;JSModuleFunction&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;getMagic2&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;context&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;20&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;getMagic&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class=&#34;s&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;use&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;strict&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;;&lt;/span&gt;
&lt;span class=&#34;s&#34;&gt;import { getMagic, getMagic2 } from &amp;#39;swift&amp;#39;&lt;/span&gt;
&lt;span class=&#34;s&#34;&gt;globalThis.magic = getMagic();&lt;/span&gt;
&lt;span class=&#34;s&#34;&gt;globalThis.magic2 = getMagic2();&lt;/span&gt;
&lt;span class=&#34;s&#34;&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;context&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;eval&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getMagic&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;module&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;magic&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;context&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;eval&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;magic;&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;int&lt;/span&gt;
&lt;span class=&#34;bp&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;Magic is &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;\(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;magic&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;//10&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;magic2&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;context&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;eval&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;magic2;&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;int&lt;/span&gt;
&lt;span class=&#34;bp&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;Magic2 is &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;\(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;magic2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;//20&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id=&#34;runloop&#34;&gt;Runloop&lt;/h2&gt;
&lt;p&gt;åœ¨ Nodejs æˆ–è€…å…¶å®ƒå®ç°ï¼ˆæ¯”å¦‚ &lt;a href=&#34;https://github.com/saghul/txiki.js&#34;&gt;txiki&lt;/a&gt;ï¼‰é‡Œï¼Œå¼‚æ­¥ IO éƒ½æ˜¯é€šè¿‡ &lt;code&gt;libuv&lt;/code&gt; æ¥å¤„ç†çš„ï¼Œæ—¢ç„¶ç”¨äº† Swiftï¼Œå°±æ‰“ç®—ç”¨ NSRunloop äº†ã€‚&lt;/p&gt;
&lt;p&gt;å‚è€ƒäº†ä¸€ä¸‹ txiki ä»£ç ï¼ŒæŠŠ runloop å®ç°æˆäº†ä¸€ä¸ª &lt;a href=&#34;https://github.com/zqqf16/QuickJS-Swift/blob/master/Sources/QuickJS/JSRunloop.swift&#34;&gt;module&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ ¸å¿ƒçš„åŸç†å¾ˆç®€å•ï¼Œå°±æ˜¯ JS åœ¨è°ƒç”¨ &lt;code&gt;setTimeout&lt;/code&gt; ç­‰æ–¹æ³•æ—¶ï¼ŒSwift åˆ›å»ºä¸€ä¸ª NSTimer æ’åˆ° runloop ä¸­ï¼Œtimer è§¦å‘çš„æ—¶å€™å†å»è°ƒç”¨ JS çš„ callback ä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ï¼š&lt;/p&gt;
&lt;div class=&#34;codehilite&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;runtime&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;JSRuntime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;context&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;runtime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;createContext&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;context&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;enableRunloop&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;jsCode&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class=&#34;s&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;use&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;strict&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;;&lt;/span&gt;
&lt;span class=&#34;s&#34;&gt;import * as rl from &amp;quot;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Runloop&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;;&lt;/span&gt;
&lt;span class=&#34;s&#34;&gt;rl.setTimeout(function(){ console.log(&amp;quot;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Hello&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Runloop&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;); }, 3000);&lt;/span&gt;
&lt;span class=&#34;s&#34;&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;context&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;eval&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;jsCode&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;module&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// waiting for 3 seconds&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;// Hello Runloop&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç›®å‰è¿˜æ˜¯åœ¨demoé˜¶æ®µï¼Œåªæ”¯æŒ &lt;code&gt;setTimeout&lt;/code&gt; ä¸€ä¸ªæ–¹æ³•ğŸ˜‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¾…ç»­ -&lt;/li&gt;
&lt;/ul&gt;</description>
		<author>zqqf16</author>
		<copyright></copyright>
		<pubDate>Tue, 21 Dec 2021 00:00:00 +0800</pubDate>
    </item>
    <item>
		<title>åœ¨ macOS ä¸Šç¼–è¯‘ libimobiledevice</title>
		<link>https://blog.zorro.im/posts/2018-8-22-how-to-build-libimobiledevice.html</link>
		<description>&lt;h2 id=&#34;_1&#34;&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;æœ€è¿‘ç»™ &lt;a href=&#34;http://github.com/zqqf16/SYM&#34;&gt;SYM&lt;/a&gt; æ·»åŠ äº†ä¸€ä¸ªæ–°åŠŸèƒ½ï¼šå¯ä»¥ç›´æ¥å¯¼å…¥ iOS è®¾å¤‡ä¸Šçš„å´©æºƒæ—¥å¿—ï¼Œè¿™ä¸ªåŠŸèƒ½æ˜¯é€šè¿‡ libimobiledevice å®ç°çš„ã€‚ç¼–è¯‘é™æ€åº“çš„è¿‡ç¨‹ä¸­è¸©äº†ä¸€äº›å‘ï¼Œåœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;_2&#34;&gt;ç¼–è¯‘æ­¥éª¤&lt;/h2&gt;
&lt;h3 id=&#34;_3&#34;&gt;å‡†å¤‡å·¥ä½œ&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;å®‰è£…ç¼–è¯‘å·¥å…·&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;codehilite&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;brew install automake autoconf libtool
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;å®‰è£…ä¾èµ–åº“&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;codehilite&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;brew install --HEAD libplist usbmuxd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&#34;openssl&#34;&gt;å‡†å¤‡ OpenSSL&lt;/h3&gt;
&lt;p&gt;å¦‚æœä¸æƒ³ç”¨ libimobiledevice çš„åº“ï¼Œè€Œæ˜¯ç›´æ¥ç”¨ç¼–è¯‘å¥½çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼ŒOpenSSL å¯ä»¥çœç•¥ï¼Œç”¨  GnuTLS ä»£æ›¿ã€‚è¯¦è§&lt;a href=&#34;https://github.com/libimobiledevice/libimobiledevice&#34;&gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨ OpenSSL çš„å¥½å¤„æ˜¯é›†æˆåˆ°å…¶å®ƒ App æ—¶ï¼Œå¯ä»¥ç›´æ¥ç”¨ OpenSSL çš„åº“ï¼ŒGnuTLS çš„åº“æ€ä¹ˆç”¨è¿˜æ²¡ç ”ç©¶â€¦â€¦&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸‹è½½ OpenSSL ä»£ç &lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;codehilite&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;wget https://www.openssl.org/source/openssl-1.0.2t.tar.gz -O openssl.tar.gz
tar vzxf openssl.tar.gz
&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; openssl-1.0.2t
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;ç¼–è¯‘ &lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;codehilite&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;./Configure darwin64-x86_64-cc
make
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœéœ€è¦æŒ‡å®šæ”¯æŒçš„ macOS æœ€å°ç‰ˆæœ¬ï¼Œå¯ä»¥è¿™æ ·ï¼š&lt;/p&gt;
&lt;div class=&#34;codehilite&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;./Configure darwin64-x86_64-cc -mmacosx-version-min&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;.11
make
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™æ ·å¯ä»¥é¿å…é›†æˆåˆ° App æ—¶ Xcode çš„ warningã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¿®æ”¹ libssl.pc æ–‡ä»¶&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ”¹æˆä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;div class=&#34;codehilite&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;prefix=/path/to/your/openssl-1.0.2t
exec_prefix=&lt;span class=&#34;cp&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;prefix&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;}&lt;/span&gt;
libdir=&lt;span class=&#34;cp&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;exec_prefix&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;}&lt;/span&gt;
includedir=&lt;span class=&#34;cp&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;prefix&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;}&lt;/span&gt;/include

Name: OpenSSL-libssl
Description: Secure Sockets Layer and cryptography libraries
Version: 1.0.2t
Requires.private: libcrypto
Libs: -L&lt;span class=&#34;cp&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;libdir&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;}&lt;/span&gt; -lssl
Libs.private: 
Cflags: -I&lt;span class=&#34;cp&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;includedir&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;}&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;æ·»åŠ  pkg-config è·¯å¾„&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;codehilite&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;PKG_CONFIG_PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/path/to/your/openssl-1.0.2t
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™ä¸€æ­¥æ˜¯ä¸ºäº† pkg-config èƒ½å¤Ÿç´¢å¼•åˆ°åˆšæ‰ç¼–è¯‘çš„ OpenSSLã€‚&lt;/p&gt;
&lt;h3 id=&#34;libimobiledevice&#34;&gt;ç¼–è¯‘ libimobiledevice&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ä¸‹è½½ libimobiledevice ä»£ç &lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;codehilite&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;wget https://github.com/libimobiledevice/libimobiledevice/archive/master.zip -O libimobiledevice.zip
unzip libimobiledevice.zip
&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; libimobiledevice-master
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;é…ç½® &amp;amp; ç¼–è¯‘&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;codehilite&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;./autogen.sh
make
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœéœ€è¦æŒ‡å®š macOS çš„æœ€å°ç‰ˆæœ¬ï¼Œå¯ä»¥è¿™æ ·ï¼š&lt;/p&gt;
&lt;div class=&#34;codehilite&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;make &lt;span class=&#34;nv&#34;&gt;CFLAGS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;-g -O2 -mmacosx-version-min=10.11&amp;#39;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;CXXFLAGS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;-g -O2 -mmacosx-version-min=10.11&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id=&#34;_4&#34;&gt;é›†æˆ&lt;/h2&gt;
&lt;p&gt;libimobiledevice çš„åº“åœ¨ &lt;code&gt;libimobiledevice-master/src/.libs&lt;/code&gt; ç›®å½•ä¸‹ï¼Œæ¯”å¦‚é™æ€åº“æ˜¯ &lt;strong&gt;libimobiledevice.a&lt;/strong&gt;ã€‚å¤´æ–‡ä»¶åœ¨ &lt;code&gt;libimobiledevice-master/include&lt;/code&gt; ç›®å½•&lt;/p&gt;
&lt;p&gt;OpenSSL çš„åº“åœ¨ &lt;code&gt;openssl-1.0.2p&lt;/code&gt; ç›®å½•ä¸‹ï¼Œé™æ€åº“æ˜¯ &lt;strong&gt;libcrypto.a&lt;/strong&gt; å’Œ &lt;strong&gt;libssl.a&lt;/strong&gt;ã€‚å¤´æ–‡ä»¶åœ¨ &lt;code&gt;openssl-1.0.2p/include&lt;/code&gt; ç›®å½•ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœé›†æˆåˆ° Appï¼Œè¿˜éœ€è¦ &lt;a href=&#34;https://github.com/libimobiledevice/libplist&#34;&gt;&lt;strong&gt;libplist&lt;/strong&gt;&lt;/a&gt; ä»¥åŠ &lt;a href=&#34;https://github.com/libimobiledevice/libusbmuxd&#34;&gt;&lt;strong&gt;libusbmuxd&lt;/strong&gt;&lt;/a&gt; ä¸¤ä¸ªåº“ï¼Œå¯ä»¥ç›´æ¥ç”¨ brew å®‰è£…çš„é‚£ä¸ªï¼Œæˆ–è€…ä¹Ÿå¯ä»¥è‡ªå·±ç¼–è¯‘ï¼Œæ­¥éª¤ä¸ç¼–è¯‘ libimobiledevice ç±»ä¼¼ï¼Œä½†æ˜¯è¦ç®€å•å¾ˆå¤šï¼Œä¸ä¾èµ– OpenSSLã€‚&lt;/p&gt;
&lt;p&gt;æœ€åï¼Œæ¬¢è¿ä½“éªŒæœ€æ–°ç‰ˆæœ¬çš„ &lt;a href=&#34;https://github.com/zqqf16/SYM/releases/latest&#34;&gt;SYM&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;-EOF-&lt;/p&gt;</description>
		<author>zqqf16</author>
		<copyright></copyright>
		<pubDate>Wed, 22 Aug 2018 00:00:00 +0800</pubDate>
    </item>
    <item>
		<title>å®‰åˆ©ä¸€å¥—iOSå¼€å‘å·¥å…·-libimobiledevice</title>
		<link>https://blog.zorro.im/posts/2018-5-6-libimobiledevice.html</link>
		<description>&lt;h2 id=&#34;_1&#34;&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;å…¬å¸é¡¹ç›®å¤§äº†ä¹‹åï¼ŒXcode è°ƒè¯•æ§åˆ¶å°è¾“å‡ºçš„å†…å®¹å·²ç»è¢«å„ç§å„æ ·çš„ä¸œè¥¿å†²å¾—ä¸ƒé›¶å…«è½ã€‚æœ‰æ—¶å€™è‡ªå·±åŠ çš„ log è¿˜æ²¡çœ‹è§å°±è¢«å†²æ²¡äº†ï¼Œå½±å“è°ƒè¯•æ•ˆç‡ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ Xcode è¿˜èƒ½æ”¯æŒæ’ä»¶çš„æ—¶ä»£ï¼Œå¯ä»¥ç”¨ä¸€äº›æ’ä»¶æ¥è¿‡æ»¤ logï¼Œä½†ç°åœ¨çš„ç‰ˆæœ¬å·²ç»ä¸èƒ½ç”¨äº†ã€‚åœ¨æœç´¢ç¬¬ä¸‰æ–¹ log æ›¿ä»£æ–¹æ¡ˆæ—¶ï¼Œå‘ç°äº† libimobiledeviceã€‚&lt;/p&gt;
&lt;h2 id=&#34;_2&#34;&gt;ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;libimobiledevice æ˜¯ä¸€ä¸ªè·¨å¹³å°çš„è¿æ¥ iOS è®¾å¤‡çš„è½¯ä»¶åº“ï¼Œå¯ä»¥ç”¨æ¥æ“ä½œ iOS è®¾å¤‡ï¼Œæ¯”å¦‚è¯»å–è®¾å¤‡ä¿¡æ¯ã€è¯»å–è®¾å¤‡æ—¥å¿—ã€è·å–è®¾å¤‡å±å¹•æˆªå›¾ã€æµè§ˆ Document æ–‡ä»¶å¤¹ç­‰åŠŸèƒ½ã€‚Appiumã€iTools ç­‰å·¥å…·ä¹Ÿæ˜¯åŸºäºè¿™ä¸ªåº“ã€‚&lt;/p&gt;
&lt;h3 id=&#34;_3&#34;&gt;å®‰è£…&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;brew install --HEAD libimobiledevice&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;--HEAD&lt;/code&gt; æ˜¯ä¸ºäº†åŸºäºæœ€æ–°ä»£ç å®‰è£…ï¼Œlibimobiledevice éœ€è¦éšç€ iOS ç‰ˆæœ¬å‡çº§æ¥åšè°ƒæ•´ï¼Œéœ€è¦ä¿æŒæœ€æ–°ã€‚&lt;/p&gt;
&lt;h3 id=&#34;_4&#34;&gt;ä½¿ç”¨&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;å®æ—¶æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;idevicesyslog&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ç”±äº NSLogã€DDlog ç­‰é»˜è®¤ä¼šå†™åˆ° iOS ç³»ç»Ÿæ—¥å¿—é‡Œï¼Œæ‰€ä»¥è¿™ä¸ªå·¥å…·å¯ä»¥ç”¨æ¥å®æ—¶æŸ¥çœ‹è°ƒè¯•æ—¥å¿—ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥è·Ÿ grepã€awkã€sed ç­‰å‘½ä»¤ç»„åˆæ¥æ·»åŠ è¿‡æ»¤æ¡ä»¶:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;idevicesyslog | grep your_app_name&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æˆ–è€…è¿‡æ»¤æ‰ä¸€äº›ä¹±ä¸ƒå…«ç³Ÿçš„å†…å®¹:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;idevicesyslog | grep -v xxx&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è·å–è®¾å¤‡æˆªå›¾&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;idevicescreenshot&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æŸ¥çœ‹è®¾å¤‡ä¿¡æ¯&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ideviceinfo&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æŸ¥çœ‹è®¾å¤‡ä¸Šå·²å®‰è£…åº”ç”¨&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ideviceinstaller -l&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æŒ‚è½½åº”ç”¨çš„ Document ç›®å½•&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;éœ€è¦å®‰è£… ifuse&lt;/p&gt;
&lt;p&gt;&lt;code&gt;brew cask install osxfuse ; brew install ifuse&lt;/code&gt; &lt;/p&gt;
&lt;p&gt;åˆ›å»ºæŒ‚è½½ç‚¹&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo mkdir /Volumes/you_app_name.app&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æŒ‚è½½ App ç›®å½•&lt;/p&gt;
&lt;div class=&#34;codehilite&#34;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;mkdir /tmp/you_app_id
ifuse --container you.app.id /tmp/you_app_id
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;you.app.id&lt;/code&gt; å¯ä»¥é€šè¿‡ &lt;code&gt;ideviceinstaller -l&lt;/code&gt; å¾—åˆ°ï¼Œ&lt;code&gt;-o allow_other&lt;/code&gt; å¯ä»¥è®©é root ç”¨æˆ·æ¥è®¿é—®ã€‚&lt;/p&gt;
&lt;p&gt;æ‰“å¼€ç›®å½•&lt;/p&gt;
&lt;p&gt;&lt;code&gt;open /tmp/you_app_id&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å…¶å®ƒ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;libimobiledevice æä¾›äº†ä¸€äº›åˆ— idevice å¼€å¤´çš„å·¥å…·ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;idevice_id&lt;/li&gt;
&lt;li&gt;idevicedebug&lt;/li&gt;
&lt;li&gt;ideviceinfo&lt;/li&gt;
&lt;li&gt;idevicescreenshot&lt;/li&gt;
&lt;li&gt;idevicebackup&lt;/li&gt;
&lt;li&gt;idevicedebugserverproxy&lt;/li&gt;
&lt;li&gt;idevicename&lt;/li&gt;
&lt;li&gt;idevicesyslog&lt;/li&gt;
&lt;li&gt;idevicebackup2&lt;/li&gt;
&lt;li&gt;idevicediagnostics&lt;/li&gt;
&lt;li&gt;idevicenotificationproxy&lt;/li&gt;
&lt;li&gt;idevicecrashreport       &lt;/li&gt;
&lt;li&gt;ideviceenterrecovery&lt;/li&gt;
&lt;li&gt;idevicepair&lt;/li&gt;
&lt;li&gt;idevicedate&lt;/li&gt;
&lt;li&gt;ideviceimagemounter&lt;/li&gt;
&lt;li&gt;ideviceprovision&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ‰å…´è¶£çš„å¯ä»¥è‡ªå·±ç ”ç©¶ä¸€ä¸‹ä½¿ç”¨æ–¹æ³•&lt;/p&gt;
&lt;p&gt;-EOF-&lt;/p&gt;</description>
		<author>zqqf16</author>
		<copyright></copyright>
		<pubDate>Sun, 06 May 2018 00:00:00 +0800</pubDate>
    </item>
    <item>
		<title>ä¿®å¤ macOS ä¸æ”¯æŒæŸäº›å±å¹• HiDPI æ˜¾ç¤ºçš„æ–¹æ³•</title>
		<link>https://blog.zorro.im/posts/2018-5-3-macOS-hidpi.html</link>
		<description>&lt;h2 id=&#34;_1&#34;&gt;èµ·å› &lt;/h2&gt;
&lt;p&gt;å¤šå¹´å‰ï¼Œé«˜ä»·æåˆ°äº†ä¸€å— iPad5 å±å¹•çš„é©±åŠ¨ç‰ˆï¼Œæƒ³ç”¨ä¸€ä¸ªäºŒæ‰‹çš„ iPad5 æ˜¾ç¤ºå±åšä¸€ä¸ª Macbook çš„ç§»åŠ¨æ˜¾ç¤ºå™¨ã€‚å±å¹•çš„åˆ†è¾¨ç‡æ˜¯ 2048x1536ï¼ŒHiDPI æ¨¡å¼ä¸‹ä¹Ÿå°±æ˜¯ 1024x768ã€‚ä¹°çš„æ—¶å€™æ²¡æƒ³é‚£ä¹ˆå¤šï¼Œæƒ³å½“ç„¶åœ°è®¤ä¸ºæ—¢ç„¶ iOS éƒ½æ”¯æŒè¿™ä¸ªåˆ†è¾¨ç‡ï¼ŒmacOS è‡ªç„¶ä¸å†è¯ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œäº‹æƒ…å¹¶éå¦‚æ­¤ï¼Œä¸¥é‡ä½ä¼°äº† BugOS çš„å®åŠ›ï¼Œå±å¹•æ’ä¸Šä¹‹åï¼Œç³»ç»Ÿèƒ½è¯†åˆ«å‡ºå±å¹•å‹å·ï¼šAppleï¼Œä½†æ˜¯æ­»æ´»ä¸èƒ½æ”¯æŒ 1024x768 HiDPIï¼Œç”šè‡³æ›´å¥‡è‘©çš„æ˜¯ï¼Œå„ç§å…¶ä»–åˆ†è¾¨ç‡ä¸‹çš„ HiDPI éƒ½æ”¯æŒï¼Œå”¯ç‹¬ä¸æ”¯æŒæ­£å¸¸çš„ã€‚å½“æ—¶è¯•å°½äº†å„ç§æ–¹æ³•ï¼Œæ”¹ Plistï¼ŒSwitchResX ç­‰ç­‰ï¼Œæœ€ç»ˆæ— åŠŸè€Œè¿”ã€‚åè€Œ Window 10 æ”¯æŒå¾—ç‰¹åˆ«å¥½ï¼Œè¿™ä¸ªæ˜¾ç¤ºå™¨åæ¥åªèƒ½ä½œä¸ºæˆ‘çš„å°å¼æœºä¸“ç”¨äº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;_2&#34;&gt;è½¬æœº&lt;/h2&gt;
&lt;p&gt;åæ¥åœ¨é€›æ·˜å®çš„æ—¶å€™ï¼Œå‘ç°ç°åœ¨å¸‚é¢ä¸Šçš„ HDMI è½¬ edp é©±åŠ¨ç‰ˆå·²ç»å¾ˆæˆç†Ÿäº†ï¼Œä¸€å—é©±åŠ¨æ¿åŠ ä¸€ä¸ª 13 å¯¸çš„ 2k å±ä¹Ÿå¾ˆä¾¿å®œï¼Œäºæ˜¯â€œè´¼å¿ƒâ€ä¸æ­»æ‰“ç®—å†è¯•ä¸€æŠŠã€‚&lt;/p&gt;
&lt;p&gt;æ–°ä¹°çš„å±å¹•æ˜¯ 2560x1440 åˆ†è¾¨ç‡çš„ï¼Œè½¬æˆ HiDPI ä¹Ÿå°±æ˜¯ 1280x720ã€‚ç„¶è€Œï¼ŒbugOS é—®é¢˜ä¾æ—§ï¼Œæ­»æ´»ä¸æ”¯æŒ 1280x720 HiDPI â€¦â€¦&lt;/p&gt;
&lt;p&gt;åæ¥å¶ç„¶é—´æœåˆ°äº†ä¸€ä¸ªå¸–å­ï¼š&lt;a href=&#34;http://blog.thefelt.net/make-1280x720-hidpi-work-on-a-169-wqhd-display/&#34;&gt;Make 1280Ã—720 HiDPI Work on a 16:9 WQHD Display&lt;/a&gt;ï¼Œé‡Œé¢æåˆ°äº†ä¸€ä¸ªè§£å†³æ–¹æ³•ï¼ŒæŠŠåˆ†è¾¨ç‡è®¾ç½®æˆ 2558x1440ï¼Œä¹Ÿå°±æ˜¯ HiDPI ä¸‹çš„ 1279x720ï¼Œé—®é¢˜æœç„¶å¾—åˆ°äº†è§£å†³â€¦â€¦å½“æ—¶å¿ƒä¸­å¤§æ¦‚å¥”è…¾è¿‡äº†ä¸€ä¸‡åªè‰æ³¥é©¬â€¦â€¦&lt;/p&gt;
&lt;p&gt;åæ¥åˆç”¨è¿™ä¸ªæ–¹æ³•ï¼ŒæŠŠ iPad æ‹¿å—å±çš„åˆ†è¾¨ç‡æ”¹æˆäº† 2046x1534ï¼ˆ1023x767 HiDPIï¼‰ï¼Œæœç„¶ä¹Ÿå¥½ç”¨äº†â€¦â€¦&lt;/p&gt;
&lt;p&gt;ä¸å¾—ä¸æ„Ÿå¹ macOS çš„ç¥å¥‡é€»è¾‘&lt;/p&gt;
&lt;h2 id=&#34;_3&#34;&gt;åæ¥&lt;/h2&gt;
&lt;p&gt;å‘ç°å¸‚é¢ä¸Š 3D æ‰“å°çš„ä»·æ ¼å·²ç»å¾ˆä¾¿å®œï¼Œå½“å¹´è®¾è®¡äº†ä¸€ä¸ªå¤–å£³ï¼Œæ·˜å®è¯¢ä»·è¦ 800+ï¼Œç°åœ¨åŒæ ·çš„å¤–å£³å¤§æ¦‚åªè¦ 150 ä¸åˆ°ã€‚äºæ˜¯å°±å…´é«˜é‡‡çƒˆåœ°å»æ·˜å®æ‰“å°äº†å¤–å£³ï¼Œæ‹¿å›æ¥ç»™ iPad å±å¹•ç»„è£…ä¸Šï¼Œå¼€æœºï¼Œå‘ç°å±å¹•ç¢äº†â€¦â€¦&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼ŒDIY è¿™ä¸ªæ˜¾ç¤ºå™¨çš„æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œå”¯ä¸€çš„æ”¶è·å°±æ˜¯ macOS å¦‚æœä¸æ”¯æŒæŸäº›åˆ†è¾¨ç‡ä¸‹çš„ HiDPIï¼Œä¸å¦¨æŠŠåˆ†è¾¨ç‡æ”¹å°2åƒç´ è¯•è¯•ï½&lt;/p&gt;
&lt;p&gt;-EOF-&lt;/p&gt;</description>
		<author>zqqf16</author>
		<copyright></copyright>
		<pubDate>Thu, 03 May 2018 00:00:00 +0800</pubDate>
    </item>
    <item>
		<title>æ¸…ç† Safari HSTS è®°å½•</title>
		<link>https://blog.zorro.im/posts/2017-10-12-how-to-clear-safari-hsts.html</link>
		<description>&lt;p&gt;ä¹‹å‰ç”¨æ¥æ”¾åšå®¢çš„ vps åœ¨è¿™æ¬¡æ¸…æ´—æ´»åŠ¨ä¸­é˜µäº¡ï¼Œæ€è€ƒå†ä¸‰ï¼Œè¿˜æ˜¯å›åˆ°äº† Github Pagesã€‚è¿™ç‚¹è®¿é—®é‡ä¸å€¼å¾—å†æŠ˜è…¾äº†...&lt;/p&gt;
&lt;p&gt;è¿ç§»è¿‡ç¨‹è¿˜ç®—æ­£å¸¸ï¼Œç”¨è„šæœ¬æŠŠ Ghost çš„æ•°æ®åº“é‡Œçš„æ–‡ç« é‡æ–°è½¬æ¢æˆ markdown æ–‡ä»¶ï¼Œå¹¶ä¸”å…¨é¢æ¥å…¥ jekyllã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œç”±äºä»¥å‰å¯ç”¨äº† HTTPSï¼Œè€Œç°åœ¨åªèƒ½ç”¨ HTTPï¼ŒSafari åœ¨è®¿é—®çš„æ—¶å€™æ€»æ˜¯å¼ºåˆ¶è½¬æ¢æˆ HTTPSï¼ˆHSTSæœºåˆ¶ï¼‰ï¼Œè¿›è€Œå¯¼è‡´æ— æ³•è®¿é—®ã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹æ³•ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å…³æ‰ Safari&lt;/li&gt;
&lt;li&gt;&lt;code&gt;killall nsurlstoraged&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rm -f ~/Library/Cookies/HSTS.plist&lt;/code&gt; &lt;/li&gt;
&lt;li&gt;&lt;code&gt;launchctl start /System/Library/LaunchAgents/com.apple.nsurlstoraged.plist&lt;/code&gt; &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å‚è€ƒé“¾æ¥ &lt;a href=&#34;https://apple.stackexchange.com/a/288002&#34;&gt;https://apple.stackexchange.com/a/288002&lt;/a&gt;&lt;/p&gt;</description>
		<author>zqqf16</author>
		<copyright></copyright>
		<pubDate>Thu, 12 Oct 2017 00:00:00 +0800</pubDate>
    </item>
</channel>
</rss>