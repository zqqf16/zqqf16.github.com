<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="zqqf16">
<meta name="description" content="é˜…è¯»äº†ä¸€ä¸‹ libdispatch çš„ä»£ç ï¼Œå‘ç°äº†ä»¥å‰å¯¹äº GCD çš„å¾ˆå¤šç†è§£éƒ½æ˜¯é”™è¯¯çš„ã€‚">

  <title>Dispatch Queue ä¸çº¿ç¨‹</title>
  <link rel="stylesheet" type="text/css" href="/assets/css/normalize.css" />
  <link rel="stylesheet" type="text/css" href="/assets/css/icons.css" />
  <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
  <link
    href="https://fonts.googleapis.com/css?family=Bree+Serif|Lato:100,100i,300,300i,400,400i,700,700i|Source+Code+Pro:300,400,500,700"
    rel="stylesheet">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script type="text/javascript" src="/assets/bigfoot/bigfoot.min.js"></script>
  <link rel="stylesheet" type="text/css" href="/assets/bigfoot/bigfoot-number.css" />

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">

  <script type="text/javascript">
    $.bigfoot();
  </script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-41282906-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-41282906-2');
</script>

<link rel="stylesheet" type="text/css" href="/assets/css/pygments.css" />
</head>

<body class="">
  <header class="main-header">
    <div class="main-header-content">
      <h1 class="blog-title"><a href="https://blog.zorro.im">ä¸€ä¸ªæœ¨åŒ </a></h1>
      <h2 class="blog-description">zqqf16 çš„ä¸ªäººåšå®¢</h2>
    </div>
<div class="nav">
  <a class="nav-link" role="presentation" href="/">Home</a>
  <a class="nav-link" role="presentation" href="/archive.html">Archive</a>
  <a class="nav-link" role="presentation" href="/posts/2013-4-25-about.html">About</a>
  <a class="nav-link" role="presentation" href="/rss.xml">RSS</a>
</div>  </header>

<main class="content" role="main">
  <article class="post ">
    <header class="post-header">
      <img src="https://z_blog.oss-cn-hangzhou.aliyuncs.com/blog/gcd-queues@2x-82965db9.png?x-oss-process=style/jpg"></img>
      <h2 class="post-title">Dispatch Queue ä¸çº¿ç¨‹</h2>
      <section class="post-meta">
        <time class="post-date" datetime="2015-12-07">2015-12-07</time>
      </section>
    </header>
    <section class="post-content">
      <blockquote>
<p>èƒŒæ™¯å›¾ç‰‡æ¥è‡ª<a href="https://www.objc.io/issues/2-concurrency/concurrency-apis-and-pitfalls/">Concurrent Programming: APIs and Challenges</a></p>
</blockquote>
<p>å‰å‡ å¤© Apple å¼€æºäº† Swiftï¼Œé¡ºå¸¦ä¹Ÿå¼€æºäº† <a href="https://github.com/apple/swift-corelibs-libdispatch">swift-corelibs-libdispatch</a>ï¼Œå…¶å®ä¹Ÿå°±æ˜¯ä¸ªè·¨å¹³å°çš„ <a href="https://opensource.apple.com/tarballs/libdispatch/">libdispatch</a>ã€‚ä¹‹å‰å¯¹ GCD çš„ç†è§£å¾ˆå¤šéƒ½æ˜¯æ­»è®°ç¡¬èƒŒä¸‹æ¥çš„ï¼ˆè€Œä¸”åŸºæœ¬ä¸Šéƒ½æ˜¯å»é¢è¯•å‰å‡†å¤‡çš„â€¦â€¦ï¼‰ã€‚æ­£å¥½è¶è¿™ä¸ªæœºä¼šç ”ç©¶ä¸€ä¸‹ï¼Œå½“ç„¶ï¼Œæœ€ä¸»è¦çš„åŸå› æ˜¯çœ‹ä¸æ‡‚ Swift ä»£ç ğŸ˜‚</p>
<p>è®¤çœŸçœ‹è¿‡ä»£ç ä¹‹åæ‰å‘ç°ï¼Œä»¥å‰å¯¹å¾ˆå¤šæ¦‚å¿µçš„ç†è§£éƒ½æ˜¯é”™è¯¯çš„ï¼Œæ¯”å¦‚ Queueï¼Œçº¿ç¨‹æ± ç­‰ã€‚</p>
<h3 id="queue">Queue</h3>
<p>åœ¨ä¹‹å‰çš„ç†è§£ä¸­ï¼Œæˆ‘ä»¥ä¸ºæ¯æ¬¡åˆ›å»ºçš„ queue éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ queue å®ä½“ï¼Œç®¡ç†ç€å®ƒè‡ªå·±çš„çº¿ç¨‹æ± ã€‚</p>
<p>ç„¶è€Œå¹¶ä¸æ˜¯è¿™æ ·ã€‚</p>
<p>å…ˆæ¥çœ‹ä¸€ä¸‹åˆ›å»º queue çš„å‡½æ•° <code>dispatch_queue_create</code> ä»£ç ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="n">dispatch_queue_t</span>
<span class="nf">dispatch_queue_create</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">label</span><span class="p">,</span> <span class="n">dispatch_queue_attr_t</span> <span class="n">attr</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">dispatch_queue_create_with_target</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">attr</span><span class="p">,</span>
            <span class="n">DISPATCH_TARGET_QUEUE_DEFAULT</span><span class="p">);</span>
    <span class="c1">// #define DISPATCH_TARGET_QUEUE_DEFAULT NULL</span>
<span class="p">}</span>
</code></pre></div>

<p><code>dispatch_queue_create_with_target</code> å‡½æ•°å®šä¹‰å¦‚ä¸‹ï¼ˆçœç•¥éƒ¨åˆ†ä»£ç )ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="n">dispatch_queue_t</span>
<span class="nf">dispatch_queue_create_with_target</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">label</span><span class="p">,</span> <span class="n">dispatch_queue_attr_t</span> <span class="n">dqa</span><span class="p">,</span>
        <span class="n">dispatch_queue_t</span> <span class="n">tq</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// ...</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">tq</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// ...</span>
        <span class="n">tq</span> <span class="o">=</span> <span class="n">_dispatch_get_root_queue</span><span class="p">(</span><span class="n">qos</span><span class="p">,</span> <span class="n">overcommit</span> <span class="o">==</span> 
                <span class="n">_dispatch_queue_attr_overcommit_enabled</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">slowpath</span><span class="p">(</span><span class="o">!</span><span class="n">tq</span><span class="p">))</span> <span class="p">{</span>
            <span class="n">DISPATCH_CLIENT_CRASH</span><span class="p">(</span><span class="s">&quot;Invalid queue attribute&quot;</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="c1">// ...</span>
    <span class="n">_dispatch_queue_set_override_priority</span><span class="p">(</span><span class="n">dq</span><span class="p">);</span>
    <span class="n">dq</span><span class="o">-&gt;</span><span class="n">do_targetq</span> <span class="o">=</span> <span class="n">tq</span><span class="p">;</span>
    <span class="n">_dispatch_object_debug</span><span class="p">(</span><span class="n">dq</span><span class="p">,</span> <span class="s">&quot;%s&quot;</span><span class="p">,</span> <span class="n">__func__</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">_dispatch_introspection_queue_create</span><span class="p">(</span><span class="n">dq</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p>å¯ä»¥å‘ç°ï¼Œå…¶å®åˆ›å»ºè‡ªå®šä¹‰ queue çš„æ—¶å€™ï¼Œåªä¸è¿‡æ˜¯ä» root queue åˆ—è¡¨é‡Œæ‰¾ä¸€ä¸ªç›¸åº”ä¼˜å…ˆçº§çš„ root queueï¼ŒæŠŠå®ƒè®¾ç½®æˆæ–° queue çš„ target queue è€Œå·²ã€‚åœ¨è‡ªå®šä¹‰ queue ä¸­æ‰§è¡Œ block æ—¶å®é™…æ˜¯åœ¨å®ƒçš„ target queue ä¸­æ‰§è¡Œçš„ã€‚</p>
<p>è‡ªå®šä¹‰ queue æ›´åƒæ˜¯ä¸€ä¸ª root queue çš„ â€œä»£ç†â€ã€‚</p>
<p>ä»£ç é‡Œçš„ â€œroot queueâ€ï¼Œå…¶å®å°±æ˜¯ GCD æ¦‚å¿µé‡Œçš„ <strong>Global Queue</strong>ã€‚åœ¨åˆå§‹åŒ–çš„æ—¶å€™ï¼Œä¼šåˆ›å»º 15 ä¸ª global queueï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<!--
| åºå·   | åç§°                                       |
| ---- | ---------------------------------------- |
| 1    | com.apple.main-thread                    |
| 2    | com.apple.libdispatch-manager            |
| 3    | com.apple.root.libdispatch-manager       |
| 4    | com.apple.root.maintenance-qos           |
| 5    | com.apple.root.maintenance-qos.overcommit |
| 6    | com.apple.root.background-qos            |
| 7    | com.apple.root.background-qos.overcommit |
| 8    | com.apple.root.utility-qos               |
| 9    | com.apple.root.utility-qos.overcommit    |
| 10   | com.apple.root.default-qos               |
| 11   | com.apple.root.default-qos.overcommit    |
| 12   | com.apple.root.user-initiated-qos        |
| 13   | com.apple.root.user-initiated-qos.overcommit |
| 14   | com.apple.root.user-interactive-qos      |
| 15   | com.apple.root.user-interactive-qos.overcommit |
-->
<table>
<thead>
<tr>
<th>åºå·</th>
<th>åç§°</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>com.apple.main-thread</td>
</tr>
<tr>
<td>2</td>
<td>com.apple.libdispatch-manager</td>
</tr>
<tr>
<td>3</td>
<td>com.apple.root.libdispatch-manager</td>
</tr>
<tr>
<td>4</td>
<td>com.apple.root.maintenance-qos</td>
</tr>
<tr>
<td>5</td>
<td>com.apple.root.maintenance-qos.overcommit</td>
</tr>
<tr>
<td>6</td>
<td>com.apple.root.background-qos</td>
</tr>
<tr>
<td>7</td>
<td>com.apple.root.background-qos.overcommit</td>
</tr>
<tr>
<td>8</td>
<td>com.apple.root.utility-qos</td>
</tr>
<tr>
<td>9</td>
<td>com.apple.root.utility-qos.overcommit</td>
</tr>
<tr>
<td>10</td>
<td>com.apple.root.default-qos</td>
</tr>
<tr>
<td>11</td>
<td>com.apple.root.default-qos.overcommit</td>
</tr>
<tr>
<td>12</td>
<td>com.apple.root.user-initiated-qos</td>
</tr>
<tr>
<td>13</td>
<td>com.apple.root.user-initiated-qos.overcommit</td>
</tr>
<tr>
<td>14</td>
<td>com.apple.root.user-interactive-qos</td>
</tr>
<tr>
<td>15</td>
<td>com.apple.root.user-interactive-qos.overcommit</td>
</tr></tbody></table>

<p>å…¶ä¸­ï¼š</p>
<ol>
<li>ï¼ƒ0 æ²¡æœ‰ä½¿ç”¨ã€‚</li>
<li>ï¼ƒ1 ä¸ä¸»çº¿ç¨‹å…³è”ï¼Œå®šä¹‰åœ¨ init.c æ–‡ä»¶ã€‚</li>
<li>ï¼ƒ2ï¼3 æ˜¯å†…éƒ¨ç®¡ç† queue ç”¨çš„ï¼Œå®šä¹‰åœ¨ queue.c æ–‡ä»¶ã€‚</li>
<li>ï¼ƒ4ï¼15 queue å®šä¹‰åœ¨ queue.c æ–‡ä»¶çš„ <code>_dispatch_root_queues</code> æ•°ç»„é‡Œã€‚</li>
</ol>
<p>å¸¦ overcommit å‚æ•°çš„è¡¨ç¤ºè¯¥ queue åœ¨æ‰§è¡Œ block æ—¶ï¼Œæ— è®ºç³»ç»Ÿå¤šå¿™éƒ½ä¼šæ–°å¼€ä¸€ä¸ªçº¿ç¨‹ã€‚åœ¨è°ƒç”¨ ï½€<code>dispatch_get_global_queue(long identifier, unsigned long flags)</code> æ–¹æ³•æ—¶ï¼ŒæŒ‡å®š flags ä¸º <code>DISPATCH_QUEUE_OVERCOMMIT</code> å³å¯è·å–æ­¤ç±» Queueã€‚</p>
<p>å…³äºä¼˜å…ˆçº§ï¼Œåœ¨æ—©æœŸç‰ˆæœ¬ä¸­æ¯”è¾ƒç®€å•ï¼Œæœ‰ä»¥ä¸‹è¿™äº›ï¼š</p>
<ul>
<li>DISPATCH_QUEUE_PRIORITY_HIGH </li>
<li>DISPATCH_QUEUE_PRIORITY_DEFAULT </li>
<li>DISPATCH_QUEUE_PRIORITY_LOW </li>
<li>DISPATCH_QUEUE_PRIORITY_BACKGROUND</li>
</ul>
<p>åœ¨æ”¯æŒäº† <a href="https://developer.apple.com/library/prerelease/ios/documentation/Performance/Conceptual/EnergyGuide-iOS/PrioritizeWorkWithQoS.html">Quality of Serviceï¼ˆQoSï¼‰</a>ä¹‹åå¤æ‚äº†ä¸€äº›ï¼š</p>
<ul>
<li>QOS_CLASS_USER_INTERACTIVE</li>
<li>QOS_CLASS_USER_INITIATED ï¼ˆDISPATCH_QUEUE_PRIORITY_HIGHï¼‰</li>
<li>QOS_CLASS_DEFAULT ï¼ˆDISPATCH_QUEUE_PRIORITY_DEFAULTï¼‰</li>
<li>QOS_CLASS_UTILITY ï¼ˆDISPATCH_QUEUE_PRIORITY_LOWï¼‰</li>
<li>QOS_CLASS_BACKGROUND ï¼ˆDISPATCH_QUEUE_PRIORITY_BACKGROUNDï¼‰</li>
</ul>
<p>ä¸ºäº†æ”¯æŒ QoSï¼Œroot queue ä¹Ÿä» 11 ä¸ªå¢åŠ åˆ°äº† 15 ä¸ªã€‚</p>
<p>objc.io çš„è¿™å¹…å›¾å¾ˆå½¢è±¡åœ°æè¿°äº†å„ç§ queue çš„å…³ç³»ï¼š</p>
<p><img alt="queue" src="https://z_blog.oss-cn-hangzhou.aliyuncs.com/blog/gcd-queues@2x-82965db9.png?x-oss-process=style/jpg" /></p>
<h3 id="queue_1">Queue ä¸çº¿ç¨‹</h3>
<p>ä¹‹å‰æˆ‘ä»¥ä¸ºæ¯ä¸ª queue éƒ½ç®¡ç†ç€å®ƒè‡ªå·±çš„çº¿ç¨‹æ± ï¼Œconcurrent queue çš„çº¿ç¨‹æ± é‡Œæœ‰å¤šä¸ªçº¿ç¨‹ï¼Œè€Œ serial queue çš„åªæœ‰ä¸€ä¸ªã€‚</p>
<p>ç„¶è€Œå¹¶ä¸æ˜¯ã€‚</p>
<p>æ‰€æœ‰ queue çš„çº¿ç¨‹æ± éƒ½æ˜¯ç»Ÿä¸€ç®¡ç†çš„ï¼Œåœ¨ Mac OS ä¸­ï¼Œæ˜¯é  pthread workqueue å®ç°çš„ã€‚ï¼ˆpthread workqueue æ²¡æ‰¾åˆ°è¯¦ç»†ä¿¡æ¯ï¼Œå¯ä»¥å‚è€ƒ <a href="https://people.freebsd.org/~sson/thrworkq/pthread_workqueue.3.txt">FreeBSD æ‰‹å†Œ</a>ã€‚<em>PSï¼šå¯ä»¥ç”¨ <code>sysctl kern.wq_max_threads</code> æŸ¥çœ‹ workqueue ä¸­æ”¯æŒçš„æœ€å¤§çº¿ç¨‹æ•°</em>ï¼‰ã€‚è¿™éœ€è¦ Libc æ ‡å‡†åº“ä¸ Kernel çš„æ”¯æŒã€‚</p>
<p>æ‰€ä»¥å³ä½¿å¯¹äº serial queue æ¥è¯´ï¼Œå®ƒæ‰€é¢å¯¹çš„ä¹Ÿæ˜¯æ‰€æœ‰çš„çº¿ç¨‹æ± ã€‚æ‰€ä»¥ä»»åŠ¡æ˜¯å¦æ˜¯å¹¶å‘æ‰§è¡Œçš„å†³å®šæƒåœ¨ queue æœ¬èº«ã€‚</p>
<p>æ¥çœ‹ä¸€ä¸‹ queue ç»“æ„ä½“çš„å®šä¹‰ï¼ˆä¸åŒå¹³å°å¯èƒ½æœ‰å·®å¼‚ï¼Œå¤§è‡´å¦‚ä¸‹ï¼‰ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="k">struct</span> <span class="nc">dispatch_queue_s</span> <span class="p">{</span>
    <span class="n">DISPATCH_STRUCT_HEADER</span><span class="p">(</span><span class="n">queue</span><span class="p">);</span>

    <span class="cm">/* DISPATCH_QUEUE_HEADER */</span>
    <span class="kt">uint32_t</span> <span class="k">volatile</span> <span class="n">dq_running</span><span class="p">;</span>
    <span class="k">struct</span> <span class="nc">dispatch_object_s</span> <span class="o">*</span><span class="k">volatile</span> <span class="n">dq_items_head</span><span class="p">;</span>
    <span class="cm">/* LP64 global queue cacheline boundary */</span>
    <span class="k">struct</span> <span class="nc">dispatch_object_s</span> <span class="o">*</span><span class="k">volatile</span> <span class="n">dq_items_tail</span><span class="p">;</span>
    <span class="n">dispatch_queue_t</span> <span class="n">dq_specific_q</span><span class="p">;</span>
    <span class="kt">uint16_t</span> <span class="n">dq_width</span><span class="p">;</span>
    <span class="kt">uint16_t</span> <span class="nl">dq_is_thread_bound</span><span class="p">:</span><span class="mi">1</span><span class="p">;</span>
    <span class="kt">uint32_t</span> <span class="k">volatile</span> <span class="n">dq_override</span><span class="p">;</span>
    <span class="n">pthread_priority_t</span> <span class="n">dq_priority</span><span class="p">;</span>
    <span class="n">mach_port_t</span> <span class="n">dq_thread</span><span class="p">;</span>
    <span class="n">mach_port_t</span> <span class="k">volatile</span> <span class="n">dq_tqthread</span><span class="p">;</span>
    <span class="n">voucher_t</span> <span class="n">dq_override_voucher</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">dq_serialnum</span><span class="p">;</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">dq_label</span><span class="p">;</span>

    <span class="n">DISPATCH_QUEUE_CACHELINE_PADDING</span><span class="p">;</span> <span class="c1">// for static queues only</span>
<span class="p">};</span>
</code></pre></div>

<p>å…¶ä¸­ <strong>dq_width</strong> å±æ€§çš„å€¼å°±æ˜¯èƒ½å¤Ÿå¹¶å‘æ‰§è¡Œçš„æœ€å¤§ä»»åŠ¡æ•°ï¼Œconcurrent queue çš„å€¼ä¸º <code>DISPATCH_QUEUE_WIDTH_MAX</code> ï¼ˆ<code>#define DISPATCH_QUEUE_WIDTH_MAX UINT16_MAX</code>ï¼‰ï¼Œserial queue çš„å€¼ä¸º 1ã€‚</p>
<p>Queue ä¼šæ ¹æ®è‡ªèº« dq_width å€¼çš„å¤§å°æ¥å®‰æ’ä»»åŠ¡çš„æ‰§è¡Œã€‚</p>
<p>--å¾…ç»­--</p>
<h3 id="_1">å‚è€ƒé“¾æ¥</h3>
<ul>
<li><a href="http://newosxbook.com/articles/GCD.html">GCD Internals</a></li>
<li><a href="https://www.objc.io/issues/2-concurrency/concurrency-apis-and-pitfalls/">Concurrent Programming: APIs and Challenges</a></li>
<li><a href="https://www.objc.io/issues/2-concurrency/low-level-concurrency-apis/">Low-Level Concurrency APIs</a></li>
</ul>
    </section>
    <footer class="post-footer">
      <section class="tags post-meta">
        Tagged 
        <a href="/tags/GCD/"> GCD </a>
        <a href="/tags/iOS/"> iOS </a>
        <a href="/tags/libdispatch/"> libdispatch </a>
      </section>
      <section class="share" hidden="true">
        <h4>Share this post</h4>
        <a class="icon-twitter" href="https://twitter.com/share?text=Dispatch Queue ä¸çº¿ç¨‹&amp;url=https://blog.zorro.im/posts/2015-12-07-gcd-dispatch-queue-and-thread.html"
          onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
          <span class="hidden"></span>
        </a>
        <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.zorro.im/posts/2015-12-07-gcd-dispatch-queue-and-thread.html"
          onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
          <span class="hidden"></span>
        </a>
        <a class="icon-google-plus" href="https://plus.google.com/share?url=https://blog.zorro.im/posts/2015-12-07-gcd-dispatch-queue-and-thread.html"
          onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
          <span class="hidden"></span>
        </a>
      </section>
    </footer>
<footer class="post comments">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
  (function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + 'zqqf16' + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</footer>  </article>
</main>


  <footer class="site-footer">
    <section class="rss"><a class="subscribe-button icon-feed" href="https://blog.zorro.im/rss.xml"></a></section>
    <section class="Github"><a class="icon-github" href="https://github.com/zqqf16"> Github</a>
    </section>
    <section class="Weibo"><a class="icon-weibo" href="http://weibo.com/zqqf16"> Weibo</a>
    </section>
    <section class="Twitter"><a class="icon-twitter" href="http://twitter.com/zqqf16"> Twitter</a>
    </section>
    <section class="copyright">&copy; 2018 ä¸€ä¸ªæœ¨åŒ </section>
    <section class="poweredby"><a href="http://thedarkroast.com/arabica">Arabica</a> theme by Sean Lunsford.
      Published with <a href="https://github.com/zqqf16/peanut">Peanut</a>.</section>
  </footer>
</body>

</html>